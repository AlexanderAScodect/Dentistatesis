<ng-template #contented let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h1 class="modal-title titulomodal" id="modal-basic-title">Categoria</h1>
    <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="formanodal">
      <form [formGroup]="myForm">
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Telefono</mat-label>
          <input matInput rows="1" maxlength="9" readonly="true" formControlName="Telefono" autocomplete="off"
            type="number" id="fname">
          <mat-error *ngIf="myForm.get('Telefono').hasError('required')">
            <strong>El Telefono es requerido</strong>
          </mat-error>
        </mat-form-field>
        <hr>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Edad</mat-label>
          <input matInput rows="1" maxlength="3" readonly="true" formControlName="Edad" autocomplete="off" type="number"
            id="fname">
          <mat-error *ngIf="myForm.get('Edad').hasError('required')">
            <strong>La edad es requerido</strong>
          </mat-error>
        </mat-form-field>
        <hr>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Observaciones</mat-label>
          <textarea matInput rows="4" maxlength="255" readonly="true" formControlName="Obeservaciones"
            autocomplete="off" type="text" id="fname"></textarea>
          <mat-error *ngIf="myForm.get('Obeservaciones').hasError('required')">
            <strong></strong>
          </mat-error>
        </mat-form-field>
      </form>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="onSubmit()">Guardar</button>
  </div>
</ng-template>
<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h1 class="modal-title titulomodal" id="modal-basic-title">Pacientes</h1>
    <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="formanodal">
      <form [formGroup]="myForm">
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>DNI del paciente</mat-label>
          <input matInput rows="1" maxlength="8" [readonly]="EDITANDO " formControlName="DniPa" autocomplete="off"
            type="number" id="fname">
          <mat-error *ngIf="myForm.get('DniPa').hasError('required')">
            <strong>El DNI del paciente es requerido</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Nombre</mat-label>
          <input matInput rows="1" maxlength="255" formControlName="Nombre" autocomplete="off" type="text" id="fname">
          <mat-error *ngIf="myForm.get('Nombre').hasError('required')">
            <strong>El Nombre es requerido</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Correo</mat-label>
          <input matInput rows="1" maxlength="255" formControlName="Correo" autocomplete="off" type="email" id="fname">
          <mat-error *ngIf="myForm.get('Correo').hasError('required')">
            <strong>porfavor escriba su correo</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field *ngIf="EDITANDO==false" class="w-100" appearance="fill">
          <mat-label>Contrase√±a</mat-label>
          <input matInput rows="1" maxlength="255" formControlName="Clave" autocomplete="off" type="text" id="fname">
          <mat-error *ngIf="myForm.get('Clave').hasError('required')">
            <strong>La Clave es necesaria</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Telefono</mat-label>
          <input matInput rows="1" maxlength="9" formControlName="Telefono" autocomplete="off" type="number" id="fname">
          <mat-error *ngIf="myForm.get('Telefono').hasError('required')">
            <strong>El Telefono es requerido</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Edad</mat-label>
          <input matInput rows="1" maxlength="3" formControlName="Edad" autocomplete="off" type="number" id="fname">
          <mat-error *ngIf="myForm.get('Edad').hasError('required')">
            <strong>La edad es requerido</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="fill">
          <mat-label>Observaciones</mat-label>
          <textarea matInput rows="4" maxlength="255" formControlName="Obeservaciones" autocomplete="off" type="text"
            id="fname"></textarea>
          <mat-error *ngIf="myForm.get('Obeservaciones').hasError('required')">
            <strong></strong>
          </mat-error>
        </mat-form-field>
      </form>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="onSubmit()">Guardar</button>
  </div>
</ng-template>
<div class="all ">
  <div *ngIf="pac">
    <div class="seccion mb-4 shadow d-flex align-items-center">
      <i class="fa-solid fa-person-half-dress iconside"></i>
      <h1 class="titulo">Pacientes</h1>
    </div>
    <div class="d-flex mt-3 justify-content-between">
      <mat-form-field class="w-25" appearance="fill">
        <mat-label>Busca por DNI</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="..." value="">
      </mat-form-field>
      <span class="iconocrear"><i class="fa-solid fa-square-plus " (click)="open(content, null)"></i></span>
    </div>
    <table class="table shadow matSor">
      <thead>
        <tr>
          <th scope="col" class="head">Dni</th>
          <th scope="col" class="head">Nombre<button class="botonordenar" (click)="sortNombre()"><i
                class="fa-solid fa-arrow-down-short-wide inconsort"></i></button></th>
          <th scope="col" class="head">Correo</th>
          <th scope="col" class="head acciones"> Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let pa of pac | slice: (page-1) * pageSize : page * pageSize">
          <td class="head">{{pa.DniPa}}</td>
          <td class="head">{{pa.Nombre}}</td>
          <td class="head">{{pa.Correo}}</td>
          <td>
            <div class="icon justify-content-center">
              <span class="icono" matTooltip="Detalle"><i class="fa-solid fa-magnifying-glass "
                  (click)="opened(contented, pa)" style="color: #1878b0;"></i></span>
              <span class="icono" matTooltip="Editar Cita"><i class="fa-solid fa-pen-to-square "
                  (click)="open(content, pa)" style="color: #1f516f;"></i></span>
              <span class="icono" matTooltip="Eliminar Cita" (click)="eliminarcat(pa)">
                <i class="fa-solid fa-circle-minus " style="color: #e15639;"></i></span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <ngb-pagination class="d-flex justify-content-end" [(page)]="page" [pageSize]="pageSize"
      [collectionSize]="pac.length"></ngb-pagination>
  </div>
</div>